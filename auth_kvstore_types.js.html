<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>auth/kvstore/types.js - Oracle NoSQL Database Node.js SDK</title>
    
    
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-connect-cloud.html">Connecting an Application to Oracle NoSQL Database Cloud Service</a></li><li><a href="tutorial-connect-on-prem.html">Connecting an Application to On-Premise Oracle NoSQL Database</a></li><li><a href="tutorial-tables.html">Working With Tables</a></li></ul><h3>Classes</h3><ul><li><a href="AdminState.html">AdminState</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AdminState.html#toString">toString</a></li></ul></li><li><a href="CapacityMode.html">CapacityMode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="CapacityMode.html#toString">toString</a></li></ul></li><li><a href="Consistency.html">Consistency</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Consistency.html#toString">toString</a></li></ul></li><li><a href="Enum.html">Enum</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Enum.html#toString">toString</a></li></ul></li><li><a href="ErrorCode.html">ErrorCode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ErrorCode.html#toString">toString</a></li></ul></li><li><a href="NoSQLArgumentError.html">NoSQLArgumentError</a></li><li><a href="NoSQLAuthorizationError.html">NoSQLAuthorizationError</a></li><li><a href="NoSQLClient.html">NoSQLClient</a><ul class='methods'><li data-type='method' style='display: none;'><a href="NoSQLClient.html#adminDDL">adminDDL</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#adminStatus">adminStatus</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#close">close</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#delete">delete</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#deleteIfVersion">deleteIfVersion</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#deleteMany">deleteMany</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#deleteRange">deleteRange</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#forCompletion">forCompletion</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#forTableState">forTableState</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#get">get</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#getIndex">getIndex</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#getIndexes">getIndexes</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#getSerialVersion">getSerialVersion</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#getTable">getTable</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#getTableUsage">getTableUsage</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#listNamespaces">listNamespaces</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#listRoles">listRoles</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#listTables">listTables</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#listUsers">listUsers</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#precacheAuth">precacheAuth</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#prepare">prepare</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#put">put</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#putIfAbsent">putIfAbsent</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#putIfPresent">putIfPresent</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#putIfVersion">putIfVersion</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#putMany">putMany</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#query">query</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#queryIterable">queryIterable</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#setTableLimits">setTableLimits</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#tableDDL">tableDDL</a></li><li data-type='method' style='display: none;'><a href="NoSQLClient.html#writeMany">writeMany</a></li></ul></li><li><a href="NoSQLError.html">NoSQLError</a></li><li><a href="NoSQLNetworkError.html">NoSQLNetworkError</a></li><li><a href="NoSQLProtocolError.html">NoSQLProtocolError</a></li><li><a href="NoSQLQueryError.html">NoSQLQueryError</a></li><li><a href="NoSQLServiceError.html">NoSQLServiceError</a></li><li><a href="NoSQLTimeoutError.html">NoSQLTimeoutError</a></li><li><a href="NoSQLUnsupportedProtocolError.html">NoSQLUnsupportedProtocolError</a></li><li><a href="PreparedStatement.html">PreparedStatement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PreparedStatement.html#clearAll">clearAll</a></li><li data-type='method' style='display: none;'><a href="PreparedStatement.html#copyStatement">copyStatement</a></li><li data-type='method' style='display: none;'><a href="PreparedStatement.html#set">set</a></li></ul></li><li><a href="Region.html">Region</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Region.html#toString">toString</a></li></ul></li><li><a href="ReplicaAckPolicy.html">ReplicaAckPolicy</a></li><li><a href="ServiceType.html">ServiceType</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ServiceType.html#toString">toString</a></li></ul></li><li><a href="SimpleRateLimiter.html">SimpleRateLimiter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SimpleRateLimiter.html#consumeUnits">consumeUnits</a></li><li data-type='method' style='display: none;'><a href="SimpleRateLimiter.html#onThrottle">onThrottle</a></li><li data-type='method' style='display: none;'><a href="SimpleRateLimiter.html#setLimit">setLimit</a></li></ul></li><li><a href="SyncPolicy.html">SyncPolicy</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SyncPolicy.html#toString">toString</a></li></ul></li><li><a href="TableState.html">TableState</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TableState.html#toString">toString</a></li></ul></li><li><a href="TTLUtil.html">TTLUtil</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TTLUtil.html#.fromExpirationTime">fromExpirationTime</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.ofDays">ofDays</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.ofHours">ofHours</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.toDays">toDays</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.toExpirationTime">toExpirationTime</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.toExpirationTimeMillis">toExpirationTimeMillis</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.toHours">toHours</a></li><li data-type='method' style='display: none;'><a href="TTLUtil.html#.toMillis">toMillis</a></li></ul></li></ul><h3>Interfaces</h3><ul><li><a href="RateLimiter.html">RateLimiter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RateLimiter.html#consumeUnits">consumeUnits</a></li><li data-type='method' style='display: none;'><a href="RateLimiter.html#onThrottle">onThrottle</a></li><li data-type='method' style='display: none;'><a href="RateLimiter.html#setLimit">setLimit</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="NoSQLClient.html#event:consumedCapacity">consumedCapacity</a></li><li><a href="NoSQLClient.html#event:error">error</a></li><li><a href="NoSQLClient.html#event:retryable">retryable</a></li><li><a href="NoSQLClient.html#event:tableState">tableState</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AdminResult">AdminResult</a></li><li><a href="global.html#AuthConfig">AuthConfig</a></li><li><a href="global.html#AuthorizationProvider">AuthorizationProvider</a></li><li><a href="global.html#Config">Config</a></li><li><a href="global.html#ConsumedCapacity">ConsumedCapacity</a></li><li><a href="global.html#ContinuationKey">ContinuationKey</a></li><li><a href="global.html#DBNumberConfig">DBNumberConfig</a></li><li><a href="global.html#delay">delay</a></li><li><a href="global.html#DelegationTokenProvider">DelegationTokenProvider</a></li><li><a href="global.html#DeleteResult">DeleteResult</a></li><li><a href="global.html#doRetry">doRetry</a></li><li><a href="global.html#Durability">Durability</a></li><li><a href="global.html#FieldRange">FieldRange</a></li><li><a href="global.html#FieldValue">FieldValue</a></li><li><a href="global.html#getAuthorization">getAuthorization</a></li><li><a href="global.html#GetResult">GetResult</a></li><li><a href="global.html#IAMConfig">IAMConfig</a></li><li><a href="global.html#IAMCredentials">IAMCredentials</a></li><li><a href="global.html#IAMCredentialsProvider">IAMCredentialsProvider</a></li><li><a href="global.html#IndexInfo">IndexInfo</a></li><li><a href="global.html#Key">Key</a></li><li><a href="global.html#KVStoreAuthConfig">KVStoreAuthConfig</a></li><li><a href="global.html#KVStoreCredentials">KVStoreCredentials</a></li><li><a href="global.html#KVStoreCredentialsProvider">KVStoreCredentialsProvider</a></li><li><a href="global.html#ListTablesResult">ListTablesResult</a></li><li><a href="global.html#loadDelegationToken">loadDelegationToken</a></li><li><a href="global.html#loadIAMCredentials">loadIAMCredentials</a></li><li><a href="global.html#loadKVStoreCredentials">loadKVStoreCredentials</a></li><li><a href="global.html#MultiDeleteResult">MultiDeleteResult</a></li><li><a href="global.html#NumberLibConfig">NumberLibConfig</a></li><li><a href="global.html#NumberLibMethods">NumberLibMethods</a></li><li><a href="global.html#NumberLibPrecision">NumberLibPrecision</a></li><li><a href="global.html#NumberLibRoundingMode">NumberLibRoundingMode</a></li><li><a href="global.html#Operation">Operation</a></li><li><a href="global.html#PrepareResult">PrepareResult</a></li><li><a href="global.html#PutResult">PutResult</a></li><li><a href="global.html#QueryResult">QueryResult</a></li><li><a href="global.html#RetryConfig">RetryConfig</a></li><li><a href="global.html#RetryHandler">RetryHandler</a></li><li><a href="global.html#RoundingModesMap">RoundingModesMap</a></li><li><a href="global.html#Row">Row</a></li><li><a href="global.html#TableLimits">TableLimits</a></li><li><a href="global.html#TableResult">TableResult</a></li><li><a href="global.html#TableUsage">TableUsage</a></li><li><a href="global.html#TableUsageResult">TableUsageResult</a></li><li><a href="global.html#TimeToLive">TimeToLive</a></li><li><a href="global.html#UserInfo">UserInfo</a></li><li><a href="global.html#Version">Version</a></li><li><a href="global.html#WriteMultipleResult">WriteMultipleResult</a></li><li><a href="global.html#WriteOperation">WriteOperation</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">auth/kvstore/types.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*-
 * Copyright (c) 2018, 2022 Oracle and/or its affiliates. All rights reserved.
 *
 * Licensed under the Universal Permissive License v 1.0 as shown at
 *  https://oss.oracle.com/licenses/upl/
 */

'use strict';

/**
 * Defines types used for NoSQL driver configuration for on-premise kvstore.
 */

/**
 * This configuration is required to authenticate against secure On-Premise
 * Oracle NoSQL Database.  It should be set as {@link AuthConfig}#kvstore.
 * To authenticate against secure kvstore the driver needs user name and
 * password of existing store user that has required permissions to perform
 * needed database operations (see {@tutorial connect-on-prem} on how to set
 * up access to secure On-Premise Oracle NoSQL database).  The are 3 ways in
 * which these credentials may be specified.  In order of increased security,
 * they are:
 * &lt;ul>
 * &lt;li>You may set user name and password explicitly as
 * {@link KVStoreAuthConfig}#user and {@link KVStoreAuthConfig}#password (see
 * example). This is not very secure since password will be in memory in
 * plain text.  If password is specified as {@link Buffer}, it will
 * be copied when {@link NoSQLClient} is created and erased when
 * {@link NoSQLClient} is closed.&lt;/li>
 * &lt;li>You may store user name and password in separate JSON file and set
 * the path to this file as {@link KVStoreAuthConfig}#credentials property.
 * This file should contain credentials in the form of
 * {@link KVStoreCredentials}.  It is more secure to store these credentials
 * in a separate file instead of main config file as access to this file may
 * be further restricted by appropriate permissions.  In addition, the
 * credentials will not be stored in memory but loaded from the file every
 * time when login is required.&lt;/li>
 * &lt;li>You may implement and use your own {@link KVStoreCredentialsProvider}
 * to access credentials in secure way (e.g. by storing them in a keystore or
 * in encrypted form).  Set the provider instance as
 * {@link KVStoreAuthConfig}#credentials property.  The credentials should
 * be returned in the form of {@link KVStoreCredentials}.&lt;/li>
 * &lt;/ul>
 * 
 * See {@tutorial connect-on-prem} tutorial on how to set up the driver to
 * access secure on-premise NoSQL store via proxy.  Note that secure
 * on-premise NoSQL store uses the same &lt;em>endpoint&lt;/em> for authentication
 * and to perform database operations.  This endpoint must be using
 * &lt;em>https&lt;/em> protocol.  See {@link Config}#endpoint
 * &lt;p>
 * If {@link KVStoreCredentials}#autoRenew property is set to true (which is
 * the default), after initial login is done, the driver will renew
 * authentication token each time it reaches half of its lifetime (half-point
 * between acquisition and expiration).  Renew request requires only existing
 * token and does not require user credentials.  If renew request fails, the
 * token will eventually expire and the driver will perform another login
 * (errors due to token expiration are automatically retried by the driver).
 * 
 * @example //AuthConfig object to access secure store with user name and
 * //and password specified
 * {
 *     kvstore: {
 *         user: 'my_user',
 *         password: Buffer.from('my_password@@123')
 *     }
 * }
 * @example //Full JSON config file to access secure store with user name and
 * //password stored in JSON credentials file
 * {
 *     "endpoint": "https://my_host:8089",
 *     "auth": {
 *         "kvstore": {
 *             "credentials": "/path/to/credentials.json"
 *         }
 *     }
 * }
 * @example //AuthConfig with using user-defined credentials provider
 * {
 *     kvstore: {
 *         credentials: new MyKVStoreCredentialsProvider()
 *     }
 * }
 * 
 * @see {@link Config}
 * @see {@link AuthConfig}
 * @see {@link KVStoreCredentialsProvider}
 * @tutorial connect-on-prem
 * 
 * @global
 * @typedef {object} KVStoreAuthConfig
 * @property {string} [user] NoSQL database user name.  May not be specified
 * together with &lt;em>credentials&lt;/em> property
 * @property {string|Buffer} [password] User's password.  May only be
 * specified if &lt;em>user&lt;/em> property is also specified.  If password is
 * represented as &lt;em>Buffer&lt;/em>, it is UTF8-encoded.
 * @property {string|KVStoreCredentialsProvider} [credentials] A string
 * representing file path to credentials file (absolute or relative to current
 * directory) or an instance of user-defined credentials provider.  May not
 * be specified together with &lt;em>user&lt;/em> or &lt;em>password&lt;/em> properties
 * @property {number} [timeout=30000] Timeout used for login and renew-token
 * requests
 * @property {boolean} [autoRenew=true] If set to true, the driver will
 * attempt to renew the authentication token half way before its expiration
 * time
 */

/**
 * This type encapsulates credentials required for authenticating with
 * on-premise NoSQL secure store and consists of user name and password.  It
 * is also the format in which to store credentials in a JSON file as
 * described in {@link KVStoreAuthConfig}.
 * 
 * @example //JSON credentials file to store user name and password
 * {
 *     "user": "my_user",
 *     "password": "my_password@@123"
 * }
 * 
 * @global
 * @typedef {object} KVStoreCredentials
 * @property {string} user NoSQL Database user name
 * @property {Buffer|string} password User's password.  If
 * using &lt;em>Buffer&lt;/em>, it is UTF8-encoded. When using
 * {@link KVStoreCredentialsProvider} and the password is represented as
 * &lt;em>Buffer&lt;/em>, the driver will erase it as soon as store
 * login is performed
 */

/**
 * Interface to load credentials needed to login to secure on-premise NoSQL
 * database.
 * @see {@link KVStoreCredentials}
 * @see {@link KVStoreCredentialsProvider}
 * 
 * @global
 * @callback loadKVStoreCredentials
 * @async
 * @returns {Promise} Promise resolved with {@link KVStoreCredentials} or
 * rejected with an error
 */

/**
 * This interface may be implemented by applications to allow obtaining
 * {@link KVStoreCredentials} required to login to on-premise store in a
 * more secure manner than built-in mechanisms (supplying user/password
 * directly or storing them in JSON file) allow, by storing credentials in
 * encrypted form, in a keystore, etc.  This provider may be specified in
 * {@link KVStoreAuthConfig}#credentials property as either a function
 * {@link loadKVStoreCredentials} or an object (class instance or otherwise)
 * with method {@link KVStoreCredentialsProvider}#loadCredentials imlementing
 * {@link loadKVStoreredentials}
 * &lt;p>
 * It is advisable that the implementation does not keep sensitive information
 * (such as password) in memory in plain text in between calls to this
 * provider.
 * 
 * @see {@link loadKVStoreCredentials}
 * @see {@link KVStoreCredentials}
 * @tutorial connect-on-prem
 * 
 * @global
 * @typedef {object|loadKVStoreCredentials} KVStoreCredentialsProvider
 * @property {loadKVStoreCredentials} loadCredentials loadCredentials function
 * @property {function()} [close] If specified, releases any resources
 * associated with this provider when {@link NoSQLClient} instance is closed
 */
</code></pre>
        </article>
    </section>





    
</div>

<br class="clear">

<footer>
Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
